# Get the default VPC
data "aws_default_vpc" "default" {}

# Get the default subnets
data "aws_subnet_ids" "default" {
  vpc_id = data.aws_default_vpc.default.id
}

# Launch EC2 in the first default subnet
resource "aws_instance" "slave_ec2" {
  ami           = "ami-0f5fcdfbd140e4ab7" # replace with your region's AMI
  instance_type = "t2.micro"

  subnet_id = data.aws_subnet_ids.default.ids[0]

  associate_public_ip_address = true

  tags = {
    Name = "slave-ec2"
  }
}
